<div class="container">

  <h2>対局場所詳細</h2>

  <div class="row">
    <div class="col-5">
      <!-- Googleマップ表示エリア(地図を表示) -->
      <div style="width:400px; height:400px;" id="map"></div>

      <!-- Googleマップ表示用の Javascript -->
      <script>
        function initMap(){
        // 地図の位置情報(緯度・経度)を取得
        let mapPosition = {lat: <%= @post_shogi_place.latitude || 0 %> , lng: <%= @post_shogi_place.longitude || 0 %> };
        let map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: mapPosition
        });
        let transitLayer = new google.maps.TransitLayer();
        transitLayer.setMap(map);

        let contentString = '【住所】<%= @post_shogi_place.address %>';
        let infowindow = new google.maps.InfoWindow({
          content: contentString
        });

        let marker = new google.maps.Marker({
          position: mapPosition,
          map: map,
          title: contentString
        });

        marker.addListener('click', function(){
          infowindow.open(map, marker);
        });
      }
      </script>

      <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap" async defer></script>
    </div>

    <div class="col-5">
      <p>対局場所名</p>
      <%= @post_shogi_place.name %>

      <p>場所</p>
      <%= @post_shogi_place.prefecture.name %>

      <p>住所</p>
      <%= @post_shogi_place.address %>

      <p>電話番号</p>
      <%= @post_shogi_place.telephone_number %>

      <p>対象者</p>
      <%= @post_shogi_place.target %>

      <p>活動</p>
      <% @post_shogi_place.activitys.each do |post_shogi_place| %>
        <%= post_shogi_place.name %>
      <% end %>

      <p>説明</p>
      <%= @post_shogi_place.explanation %>
    </div>
  </div>

    <%= @post_shogi_place.customer_id %>
    <%= @post_shogi_place.prefecture_id %>
    <%= @post_shogi_place.name %>
    <%= @post_shogi_place.address %>
    <%= @post_shogi_place.latitude %>
    <%= @post_shogi_place.longitude %>

</div>
