<h2>投稿詳細</h2>

<!-- Googleマップ表示エリア(地図を表示) -->
<div style="width:400px; height:400px;" id="map"></div>

<!-- Googleマップ表示用の Javascript -->
<script>
  function initMap(){
  // 地図の位置情報(緯度・経度)を取得
  let mapPosition = {lat: <%= @post_shogi_place.latitude || 0 %> , lng: <%= @post_shogi_place.longitude || 0 %> };
  let map = new google.maps.Map(document.getElementById('map'), {
    zoom: 15,
    center: mapPosition
  });
  let transitLayer = new google.maps.TransitLayer();
  transitLayer.setMap(map);

  let contentString = '【住所】<%= @post_shogi_place.address %>';
  let infowindow = new google.maps.InfoWindow({
    content: contentString
  });

  let marker = new google.maps.Marker({
    position: mapPosition,
    map: map,
    title: contentString
  });

  marker.addListener('click', function(){
    infowindow.open(map, marker);
  });
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap" async defer></script>

